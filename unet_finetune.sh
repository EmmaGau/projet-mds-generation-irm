MODEL_FLAGS='--num_channels 128 --num_res_blocks 2 --attention_resolutions 32,16,8 --num_head_channels 64 --resblock_updown True --use_scale_shift True'
TRAIN_FLAGS="--lr 1e-4 --batch_size 4 --microbatch 1"

# python finetune.py checkpoints/unet_paper/model030000.pt data/Dataset_segmentation/Split/TRAIN/IMG data/Dataset_segmentation/Split/TRAIN/MASK --imgval_dir data/Dataset_segmentation/Split/VAL/IMG --maskval_dir data/Dataset_segmentation/Split/VAL/MASK $MODEL_FLAGS $TRAIN_FLAGS --lr 1e-4 --image_size 64  --out_channels 7 --epochs 200 --weights_save checkpoints/finetune/segm200.pth --batch_size 2 --unfreeze_decoder 1. 
# python finetune.py checkpoints/20240118_143323/model001000.pt data/Dataset_segmentation/Split3/TRAIN/IMG data/Dataset_segmentation/Split3/TRAIN/MASK --imgval_dir data/Dataset_segmentation/Split3/VAL/IMG --maskval_dir data/Dataset_segmentation/Split3/VAL/MASK $MODEL_FLAGS $TRAIN_FLAGS --lr 1e-4 --image_size 64  --out_channels 7 --epochs 200 --weights_save checkpoints/finetune/segm200_64_split3.pth --batch_size 2 --unfreeze_decoder 1. 
python finetune.py checkpoints/20240118_162705/model001000.pt data/Dataset_segmentation/Split3/TRAIN/IMG data/Dataset_segmentation/Split3/TRAIN/MASK --imgval_dir data/Dataset_segmentation/Split3/VAL/IMG --maskval_dir data/Dataset_segmentation/Split3/VAL/MASK $MODEL_FLAGS $TRAIN_FLAGS --lr 1e-4 --image_size 256  --out_channels 7 --epochs 400 --weights_save checkpoints/finetune/segm200_256.pth --batch_size 2 --unfreeze_decoder 1. 